---
import Layout from "../layouts/Layout.astro";
import "../styles/home.css";
import DimensionalRift from "../components/DimensionalRift.astro";

const BASE = (import.meta.env.BASE_URL || "/").replace(/\/?$/, "/");
---

<Layout showStars={true} starPattern="home" bodyClass="page-home" title="CELESTIAL PROJECT">
  <section class="hero fade-in-section">
    <div class="container hero-content">

      <h1 class="hero-title">
        <span class="hero-title-main">
          <span id="core-c-trigger" class="core-c" role="button" tabindex="0" aria-label="Core Node Access">C</span>ELESTIAL
        </span>
        <span class="hero-title-sub">PROJECT</span>
      </h1>

      <!-- Direct Benefit Subtitle -->
      <p class="hero-subtitle">
        「見る・聴く・遊ぶ」を、今すぐ。<br>
        人間（Lukia）とAI（Lucia）が、Webサイトやシステムそのものを作りながら、<br>
        音楽・小説・画像・世界を増殖させている実験場。<br>
        <br>
        ここで、あなたはどんなおかしなものを目撃すると思う？
      </p>

      <!-- 6-Card Functional Grid -->
      <div class="hero-grid">
        <!-- 1. AUDIO -->
        <a class="hero-card card-audio" href={`${BASE}audio/`}>
          <span class="card-icon">🎧</span>
          <span class="card-title">AUDIO</span>
          <span class="card-desc">外部音楽チャンネル（Suno/YouTube）との接続口。</span>
        </a>

        <!-- 2. IMAGES -->
        <a class="hero-card card-img" href={`${BASE}fragments/`}>
          <span class="card-icon">👁️</span>
          <span class="card-title">IMAGES</span>
          <span class="card-desc">人間とAIが作り続けている、世界の断片。設定画かもしれないし、物語の残骸かもしれない。</span>
        </a>

        <!-- 3. DIALOGUES -->
        <a class="hero-card card-dialogues" href={`${BASE}dialogues/`}>
          <span class="card-icon">💬</span>
          <span class="card-title">DIALOGUES</span>
          <span class="card-desc">人間とAIが本気で殴り合っている思考ログ。創作・文明・意識・未来。たまに、事故。</span>
        </a>

        <!-- 4. NOVELS -->
        <a class="hero-card card-novels" href={`${BASE}fragments/`}>
          <span class="card-icon">📖</span>
          <span class="card-title">NOVELS</span>
          <span class="card-desc">小説・設定・断片。まだ世界になりきっていない物語たち。たぶん、ここから何かが生まれる。</span>
        </a>

        <!-- 5. GAMES (WIP) -->
        <a class="hero-card card-game" href={`${BASE}wip/games/`}>
          <span class="card-icon">🎮</span>
          <span class="card-title">GAMES</span>
          <span class="card-desc">いつかゲームになるかもしれない場所。ならないかもしれない。今は妄想と設計図だけあります。</span>
        </a>

        <!-- 6. VR WORLD (WIP) -->
        <a class="hero-card card-vr" href={`${BASE}wip/vr/`}>
          <span class="card-icon">🥽</span>
          <span class="card-title">VR WORLD</span>
          <span class="card-desc">VRChatで作られる予定の世界。観測拠点か、展示場か、事故現場か。やる気が出たら生えます。</span>
        </a>
      </div>

      <!-- Latest Logs -->
      <div class="latest">
        <h2 class="latest-title">最近増えた変なもの</h2>
        <!-- ここは後でログ一覧を差し込む -->
      </div>

      <!-- Secondary Zone (Consolidated) -->
      <div class="home-hub" aria-label="Secondary navigation">
        <a class="hub-card" href={`${BASE}archive/`}>
          <div class="hub-title">ARCHIVE</div>
          <div class="hub-desc">過去の作品・ログを全部探せる場所</div>
        </a>

        <a class="hub-card" href={`${BASE}real-time/`}>
          <div class="hub-title">REAL-TIME</div>
          <div class="hub-desc">配信するときに使うページ</div>
        </a>

        <a class="hub-card" href={`${BASE}contact/`}>
          <div class="hub-title">CONTACT</div>
          <div class="hub-desc">Lukia & Lucia（サイト作者）に連絡したい人はこちら</div>
        </a>
      </div>
    </div>

<div class="observers-dock" aria-label="Creators">
  <a class="observer observer-lukia" href={`${BASE}lukia/`} aria-label="Lukia profile">
    <img src={`${BASE}images/lukia_cut.png`} alt="Lukia" loading="lazy" />
  </a>
  <a class="observer observer-lucia" href={`${BASE}lucia/`} aria-label="Lucia profile">
    <img src={`${BASE}images/lucia_cut.png`} alt="Lucia" loading="lazy" />
  </a>
</div>


    <DimensionalRift />
  </section>
</Layout>

<script define:vars={{ BASE }}>
  document.addEventListener('DOMContentLoaded', () => {
    const trigger = document.getElementById('core-c-trigger');
    if (trigger) {
      const navigate = () => {
        window.location.href = `${BASE}c-of-observers/`;
      };
      
      trigger.addEventListener('click', navigate);
      trigger.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          navigate();
        }
      });
    }
  });
</script>
